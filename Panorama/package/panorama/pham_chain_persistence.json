[
  {
    "index": 0,
    "timestamp": 1769617052.015287,
    "data": {
      "name": "GENESIS"
    },
    "hash": "0"
  },
  {
    "index": 1,
    "timestamp": 1769617052.015293,
    "data": {
      "title": "persistence.py",
      "author": "GNJz",
      "timestamp": "2026-01-29 03:17:32",
      "hash": "4abe983e7a4fb42df574c7e99f8131f42c6ae1df394d6f3013c77793fe0428be",
      "cid": "QmQoURczuYTNHf3Ds3CFsgiwtSyhnpMmC5HLDshoHfk1eT",
      "description": "Panorama Persistence Layer v1.0 - JSON/SQLite 영속성 지원",
      "score": 0.9995,
      "label": "A_HIGH",
      "signals": {
        "byte": 1.0,
        "text": 1.0,
        "ast": 0.9984177215189873,
        "exec": 0.0
      },
      "exec_output": "",
      "raw_bytes": "22222250616e6f72616d612050657273697374656e6365204c617965722076312e300a0aec9881ec868dec84b120eba088ec9db4ec96b4202d20ec9db4ebb2a4ed8ab8ec998020ec9790ed94bcec868ceb939ceba5bc20ec9881eab5ac20eca080ec9ea5ed95a9eb8b88eb8ba42e0aeca780ec9b9020ed8faceba7b73a204a534f4e2c2053514c6974650a0aec9db420eba088ec9db4ec96b4eab08020ec9e88ec96b4ec95bc2022ec9ea5eab8b020eab8b0ec96b522ec9db4eb9dbceb8a9420ed919ced9884ec9db420eca095ed9995ed95b4eca791eb8b88eb8ba42e0a2d20ed9484eba19cec84b8ec8aa4eab08020eca285eba38ceb9098ec96b4eb8f8420eab8b0ec96b5ec9db420ec9ca0eca780eb90a80a2d20eca084ec9b90ec9db420eababceca0b8eb8f8420ebb3b5eab5ac20eab080eb8aa50a2222220a0a66726f6d205f5f6675747572655f5f20696d706f727420616e6e6f746174696f6e730a0a696d706f7274206a736f6e0a696d706f72742073716c697465330a66726f6d2064617461636c617373657320696d706f7274206173646963740a66726f6d20706174686c696220696d706f727420506174680a66726f6d20747970696e6720696d706f727420545950455f434845434b494e472c204c6973742c20446963742c20416e792c204f7074696f6e616c0a0a696620545950455f434845434b494e473a0a2020202066726f6d202e70616e6f72616d615f656e67696e6520696d706f72742050616e6f72616d614d656d6f7279456e67696e652c204576656e740a0a0a636c6173732050616e6f72616d6150657273697374656e63653a0a2020202022222250616e6f72616d6120ec9794eca784ec9d9820ec9881ec868dec84b120eab480eba6acec9e900a202020200a20202020ec82acec9aa920ec9888ec8b9c3a0a20202020202020203e3e3e20656e67696e65203d2050616e6f72616d614d656d6f7279456e67696e6528290a20202020202020203e3e3e20656e67696e652e617070656e645f6576656e74282e2e2e290a20202020202020203e3e3e200a20202020202020203e3e3e202320eca080ec9ea50a20202020202020203e3e3e2070657273697374656e6365203d2050616e6f72616d6150657273697374656e636528656e67696e65290a20202020202020203e3e3e2070657273697374656e63652e736176655f6a736f6e28226d656d6f72792e6a736f6e22290a20202020202020203e3e3e200a20202020202020203e3e3e202320ebb688eb9facec98a4eab8b00a20202020202020203e3e3e206e65775f656e67696e65203d2050616e6f72616d614d656d6f7279456e67696e6528290a20202020202020203e3e3e2070657273697374656e6365203d2050616e6f72616d6150657273697374656e6365286e65775f656e67696e65290a20202020202020203e3e3e2070657273697374656e63652e6c6f61645f6a736f6e28226d656d6f72792e6a736f6e22290a202020202222220a202020200a20202020646566205f5f696e69745f5f2873656c662c20656e67696e653a202250616e6f72616d614d656d6f7279456e67696e6522293a0a202020202020202073656c662e656e67696e65203d20656e67696e650a202020200a2020202023202d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d0a2020202023204a534f4e20eca080ec9ea52feba19ceb939c0a2020202023202d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d0a2020202064656620736176655f6a736f6e2873656c662c20706174683a207374722c20696e64656e743a20696e74203d203229202d3e20696e743a0a2020202020202020222222ebaaa8eb93a020ec9db4ebb2a4ed8ab8eba5bc204a534f4e20ed8c8cec9dbceba19c20eca080ec9ea50a20202020202020200a2020202020202020417267733a0a202020202020202020202020706174683a20eca080ec9ea520eab2bdeba19c0a202020202020202020202020696e64656e743a204a534f4e20eb93a4ec97acec93b0eab8b020284e6f6e65ec9db4eba9b420ec9595ecb695290a2020202020202020202020200a202020202020202052657475726e733a0a202020202020202020202020eca080ec9ea5eb909c20ec9db4ebb2a4ed8ab820ec88980a20202020202020202222220a20202020202020206576656e74735f64617461203d205b5d0a2020202020202020666f72206576656e7420696e2073656c662e656e67696e652e5f6576656e74733a0a2020202020202020202020206576656e74735f646174612e617070656e64287b0a20202020202020202020202020202020226964223a206576656e742e69642c0a202020202020202020202020202020202274696d657374616d70223a206576656e742e74696d657374616d702c0a20202020202020202020202020202020226576656e745f74797065223a206576656e742e6576656e745f747970652c0a20202020202020202020202020202020227061796c6f6164223a206576656e742e7061796c6f61642c0a2020202020202020202020202020202022657069736f64655f6964223a206576656e742e657069736f64655f69642c0a2020202020202020202020202020202022696d706f7274616e6365223a206576656e742e696d706f7274616e63652c0a2020202020202020202020207d290a20202020202020200a202020202020202064617461203d207b0a2020202020202020202020202276657273696f6e223a2022312e302e30222c0a20202020202020202020202022656e67696e65223a202250616e6f72616d614d656d6f7279456e67696e65222c0a202020202020202020202020226576656e745f636f756e74223a206c656e286576656e74735f64617461292c0a202020202020202020202020226576656e7473223a206576656e74735f646174612c0a20202020202020207d0a20202020202020200a2020202020202020506174682870617468292e77726974655f74657874286a736f6e2e64756d707328646174612c20696e64656e743d696e64656e742c20656e737572655f61736369693d46616c736529290a202020202020202072657475726e206c656e286576656e74735f64617461290a202020200a20202020646566206c6f61645f6a736f6e2873656c662c20706174683a207374722c20636c6561725f6578697374696e673a20626f6f6c203d205472756529202d3e20696e743a0a20202020202020202222224a534f4e20ed8c8cec9dbcec9790ec849c20ec9db4ebb2a4ed8ab820eba19ceb939c0a20202020202020200a2020202020202020417267733a0a202020202020202020202020706174683a20ed8c8cec9dbc20eab2bdeba19c0a202020202020202020202020636c6561725f6578697374696e673a2054727565eba9b420eab8b0eca1b420ec9db4ebb2a4ed8ab820ec82adeca09c20ed9b8420eba19ceb939c0a2020202020202020202020200a202020202020202052657475726e733a0a202020202020202020202020eba19ceb939ceb909c20ec9db4ebb2a4ed8ab820ec88980a20202020202020202222220a202020202020202064617461203d206a736f6e2e6c6f61647328506174682870617468292e726561645f746578742829290a20202020202020200a2020202020202020696620636c6561725f6578697374696e673a0a20202020202020202020202073656c662e656e67696e652e636c65617228290a20202020202020200a20202020202020206576656e7473203d20646174612e67657428226576656e7473222c205b5d290a2020202020202020666f72206576656e745f6461746120696e206576656e74733a0a20202020202020202020202073656c662e656e67696e652e617070656e645f6576656e74280a2020202020202020202020202020202074696d657374616d703d6576656e745f646174615b2274696d657374616d70225d2c0a202020202020202020202020202020206576656e745f747970653d6576656e745f646174615b226576656e745f74797065225d2c0a202020202020202020202020202020207061796c6f61643d6576656e745f646174612e67657428227061796c6f6164222c207b7d292c0a20202020202020202020202020202020657069736f64655f69643d6576656e745f646174612e6765742822657069736f64655f696422292c0a20202020202020202020202020202020696d706f7274616e63653d6576656e745f646174612e6765742822696d706f7274616e6365222c20302e35292c0a202020202020202020202020202020206576656e745f69643d6576656e745f646174615b226964225d2c0a202020202020202020202020290a20202020202020200a202020202020202072657475726e206c656e286576656e7473290a202020200a2020202023202d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d0a20202020232053514c69746520eca080ec9ea52feba19ceb939c0a2020202023202d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d0a2020202064656620736176655f73716c6974652873656c662c2064625f706174683a2073747229202d3e20696e743a0a2020202020202020222222ebaaa8eb93a020ec9db4ebb2a4ed8ab8eba5bc2053514c697465204442eba19c20eca080ec9ea50a20202020202020200a2020202020202020417267733a0a20202020202020202020202064625f706174683a2053514c69746520ed8c8cec9dbc20eab2bdeba19c0a2020202020202020202020200a202020202020202052657475726e733a0a202020202020202020202020eca080ec9ea5eb909c20ec9db4ebb2a4ed8ab820ec88980a20202020202020202222220a2020202020202020636f6e6e203d2073716c697465332e636f6e6e6563742864625f70617468290a2020202020202020637572736f72203d20636f6e6e2e637572736f7228290a20202020202020200a20202020202020202320ed858cec9db4ebb89420ec839dec84b10a2020202020202020637572736f722e65786563757465282222220a202020202020202020202020435245415445205441424c45204946204e4f54204558495354532070616e6f72616d615f6576656e747320280a2020202020202020202020202020202069642054455854205052494d415259204b45592c0a2020202020202020202020202020202074696d657374616d70205245414c204e4f54204e554c4c2c0a202020202020202020202020202020206576656e745f747970652054455854204e4f54204e554c4c2c0a202020202020202020202020202020207061796c6f616420544558542c0a20202020202020202020202020202020657069736f64655f696420544558542c0a20202020202020202020202020202020696d706f7274616e6365205245414c2044454641554c5420302e350a202020202020202020202020290a2020202020202020222222290a20202020202020200a2020202020202020637572736f722e65786563757465282222220a20202020202020202020202043524541544520494e444558204946204e4f5420455849535453206964785f74696d657374616d70204f4e2070616e6f72616d615f6576656e74732874696d657374616d70290a2020202020202020222222290a20202020202020200a2020202020202020637572736f722e65786563757465282222220a20202020202020202020202043524541544520494e444558204946204e4f5420455849535453206964785f657069736f6465204f4e2070616e6f72616d615f6576656e747328657069736f64655f6964290a2020202020202020222222290a20202020202020200a20202020202020202320eab8b0eca1b420eb8db0ec9db4ed84b020ec82adeca09c20ed9b8420ec82bdec9e850a2020202020202020637572736f722e65786563757465282244454c4554452046524f4d2070616e6f72616d615f6576656e747322290a20202020202020200a2020202020202020636f756e74203d20300a2020202020202020666f72206576656e7420696e2073656c662e656e67696e652e5f6576656e74733a0a202020202020202020202020637572736f722e65786563757465282222220a20202020202020202020202020202020494e5345525420494e544f2070616e6f72616d615f6576656e7473202869642c2074696d657374616d702c206576656e745f747970652c207061796c6f61642c20657069736f64655f69642c20696d706f7274616e6365290a2020202020202020202020202020202056414c55455320283f2c203f2c203f2c203f2c203f2c203f290a2020202020202020202020202222222c20280a202020202020202020202020202020206576656e742e69642c0a202020202020202020202020202020206576656e742e74696d657374616d702c0a202020202020202020202020202020206576656e742e6576656e745f747970652c0a202020202020202020202020202020206a736f6e2e64756d7073286576656e742e7061796c6f61642c20656e737572655f61736369693d46616c7365292c0a202020202020202020202020202020206576656e742e657069736f64655f69642c0a202020202020202020202020202020206576656e742e696d706f7274616e63652c0a20202020202020202020202029290a202020202020202020202020636f756e74202b3d20310a20202020202020200a2020202020202020636f6e6e2e636f6d6d697428290a2020202020202020636f6e6e2e636c6f736528290a202020202020202072657475726e20636f756e740a202020200a20202020646566206c6f61645f73716c6974652873656c662c2064625f706174683a207374722c20636c6561725f6578697374696e673a20626f6f6c203d205472756529202d3e20696e743a0a202020202020202022222253514c697465204442ec9790ec849c20ec9db4ebb2a4ed8ab820eba19ceb939c0a20202020202020200a2020202020202020417267733a0a20202020202020202020202064625f706174683a2053514c69746520ed8c8cec9dbc20eab2bdeba19c0a202020202020202020202020636c6561725f6578697374696e673a2054727565eba9b420eab8b0eca1b420ec9db4ebb2a4ed8ab820ec82adeca09c20ed9b8420eba19ceb939c0a2020202020202020202020200a202020202020202052657475726e733a0a202020202020202020202020eba19ceb939ceb909c20ec9db4ebb2a4ed8ab820ec88980a20202020202020202222220a2020202020202020696620636c6561725f6578697374696e673a0a20202020202020202020202073656c662e656e67696e652e636c65617228290a20202020202020200a2020202020202020636f6e6e203d2073716c697465332e636f6e6e6563742864625f70617468290a2020202020202020637572736f72203d20636f6e6e2e637572736f7228290a20202020202020200a2020202020202020637572736f722e65786563757465282222220a20202020202020202020202053454c4543542069642c2074696d657374616d702c206576656e745f747970652c207061796c6f61642c20657069736f64655f69642c20696d706f7274616e63650a20202020202020202020202046524f4d2070616e6f72616d615f6576656e74730a2020202020202020202020204f524445522042592074696d657374616d70204153430a2020202020202020222222290a20202020202020200a2020202020202020636f756e74203d20300a2020202020202020666f7220726f7720696e20637572736f722e6665746368616c6c28293a0a2020202020202020202020206576656e745f69642c2074696d657374616d702c206576656e745f747970652c207061796c6f61645f7374722c20657069736f64655f69642c20696d706f7274616e6365203d20726f770a2020202020202020202020207061796c6f6164203d206a736f6e2e6c6f616473287061796c6f61645f73747229206966207061796c6f61645f73747220656c7365207b7d0a2020202020202020202020200a20202020202020202020202073656c662e656e67696e652e617070656e645f6576656e74280a2020202020202020202020202020202074696d657374616d703d74696d657374616d702c0a202020202020202020202020202020206576656e745f747970653d6576656e745f747970652c0a202020202020202020202020202020207061796c6f61643d7061796c6f61642c0a20202020202020202020202020202020657069736f64655f69643d657069736f64655f69642c0a20202020202020202020202020202020696d706f7274616e63653d696d706f7274616e6365206f7220302e352c0a202020202020202020202020202020206576656e745f69643d6576656e745f69642c0a202020202020202020202020290a202020202020202020202020636f756e74202b3d20310a20202020202020200a2020202020202020636f6e6e2e636c6f736528290a202020202020202072657475726e20636f756e740a0a0a23202d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d0a2320ec9794eca78420ed9995ec9ea520eba994ec849ceb939c20284d6978696e20ec8aa4ed8380ec9dbc290a23202d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d2d0a64656620736176655f746f5f6a736f6e28656e67696e653a202250616e6f72616d614d656d6f7279456e67696e65222c20706174683a207374722c20696e64656e743a20696e74203d203229202d3e20696e743a0a2020202022222250616e6f72616d614d656d6f7279456e67696e65ec9d9820ed8eb8ec9d9820eba994ec849ceb939c2222220a2020202072657475726e2050616e6f72616d6150657273697374656e636528656e67696e65292e736176655f6a736f6e28706174682c20696e64656e74290a0a0a646566206c6f61645f66726f6d5f6a736f6e28656e67696e653a202250616e6f72616d614d656d6f7279456e67696e65222c20706174683a207374722c20636c6561725f6578697374696e673a20626f6f6c203d205472756529202d3e20696e743a0a2020202022222250616e6f72616d614d656d6f7279456e67696e65ec9d9820ed8eb8ec9d9820eba994ec849ceb939c2222220a2020202072657475726e2050616e6f72616d6150657273697374656e636528656e67696e65292e6c6f61645f6a736f6e28706174682c20636c6561725f6578697374696e67290a0a0a64656620736176655f746f5f73716c69746528656e67696e653a202250616e6f72616d614d656d6f7279456e67696e65222c20706174683a2073747229202d3e20696e743a0a2020202022222250616e6f72616d614d656d6f7279456e67696e65ec9d9820ed8eb8ec9d9820eba994ec849ceb939c2222220a2020202072657475726e2050616e6f72616d6150657273697374656e636528656e67696e65292e736176655f73716c6974652870617468290a0a0a646566206c6f61645f66726f6d5f73716c69746528656e67696e653a202250616e6f72616d614d656d6f7279456e67696e65222c20706174683a207374722c20636c6561725f6578697374696e673a20626f6f6c203d205472756529202d3e20696e743a0a2020202022222250616e6f72616d614d656d6f7279456e67696e65ec9d9820ed8eb8ec9d9820eba994ec849ceb939c2222220a2020202072657475726e2050616e6f72616d6150657273697374656e636528656e67696e65292e6c6f61645f73716c69746528706174682c20636c6561725f6578697374696e67290a",
      "raw_text": "\"\"\"Panorama Persistence Layer v1.0\n\n영속성 레이어 - 이벤트와 에피소드를 영구 저장합니다.\n지원 포맷: JSON, SQLite\n\n이 레이어가 있어야 \"장기 기억\"이라는 표현이 정확해집니다.\n- 프로세스가 종료되어도 기억이 유지됨\n- 전원이 꺼져도 복구 가능\n\"\"\"\n\nfrom __future__ import annotations\n\nimport json\nimport sqlite3\nfrom dataclasses import asdict\nfrom pathlib import Path\nfrom typing import TYPE_CHECKING, List, Dict, Any, Optional\n\nif TYPE_CHECKING:\n    from .panorama_engine import PanoramaMemoryEngine, Event\n\n\nclass PanoramaPersistence:\n    \"\"\"Panorama 엔진의 영속성 관리자\n    \n    사용 예시:\n        >>> engine = PanoramaMemoryEngine()\n        >>> engine.append_event(...)\n        >>> \n        >>> # 저장\n        >>> persistence = PanoramaPersistence(engine)\n        >>> persistence.save_json(\"memory.json\")\n        >>> \n        >>> # 불러오기\n        >>> new_engine = PanoramaMemoryEngine()\n        >>> persistence = PanoramaPersistence(new_engine)\n        >>> persistence.load_json(\"memory.json\")\n    \"\"\"\n    \n    def __init__(self, engine: \"PanoramaMemoryEngine\"):\n        self.engine = engine\n    \n    # ------------------------------------------------------------------\n    # JSON 저장/로드\n    # ------------------------------------------------------------------\n    def save_json(self, path: str, indent: int = 2) -> int:\n        \"\"\"모든 이벤트를 JSON 파일로 저장\n        \n        Args:\n            path: 저장 경로\n            indent: JSON 들여쓰기 (None이면 압축)\n            \n        Returns:\n            저장된 이벤트 수\n        \"\"\"\n        events_data = []\n        for event in self.engine._events:\n            events_data.append({\n                \"id\": event.id,\n                \"timestamp\": event.timestamp,\n                \"event_type\": event.event_type,\n                \"payload\": event.payload,\n                \"episode_id\": event.episode_id,\n                \"importance\": event.importance,\n            })\n        \n        data = {\n            \"version\": \"1.0.0\",\n            \"engine\": \"PanoramaMemoryEngine\",\n            \"event_count\": len(events_data),\n            \"events\": events_data,\n        }\n        \n        Path(path).write_text(json.dumps(data, indent=indent, ensure_ascii=False))\n        return len(events_data)\n    \n    def load_json(self, path: str, clear_existing: bool = True) -> int:\n        \"\"\"JSON 파일에서 이벤트 로드\n        \n        Args:\n            path: 파일 경로\n            clear_existing: True면 기존 이벤트 삭제 후 로드\n            \n        Returns:\n            로드된 이벤트 수\n        \"\"\"\n        data = json.loads(Path(path).read_text())\n        \n        if clear_existing:\n            self.engine.clear()\n        \n        events = data.get(\"events\", [])\n        for event_data in events:\n            self.engine.append_event(\n                timestamp=event_data[\"timestamp\"],\n                event_type=event_data[\"event_type\"],\n                payload=event_data.get(\"payload\", {}),\n                episode_id=event_data.get(\"episode_id\"),\n                importance=event_data.get(\"importance\", 0.5),\n                event_id=event_data[\"id\"],\n            )\n        \n        return len(events)\n    \n    # ------------------------------------------------------------------\n    # SQLite 저장/로드\n    # ------------------------------------------------------------------\n    def save_sqlite(self, db_path: str) -> int:\n        \"\"\"모든 이벤트를 SQLite DB로 저장\n        \n        Args:\n            db_path: SQLite 파일 경로\n            \n        Returns:\n            저장된 이벤트 수\n        \"\"\"\n        conn = sqlite3.connect(db_path)\n        cursor = conn.cursor()\n        \n        # 테이블 생성\n        cursor.execute(\"\"\"\n            CREATE TABLE IF NOT EXISTS panorama_events (\n                id TEXT PRIMARY KEY,\n                timestamp REAL NOT NULL,\n                event_type TEXT NOT NULL,\n                payload TEXT,\n                episode_id TEXT,\n                importance REAL DEFAULT 0.5\n            )\n        \"\"\")\n        \n        cursor.execute(\"\"\"\n            CREATE INDEX IF NOT EXISTS idx_timestamp ON panorama_events(timestamp)\n        \"\"\")\n        \n        cursor.execute(\"\"\"\n            CREATE INDEX IF NOT EXISTS idx_episode ON panorama_events(episode_id)\n        \"\"\")\n        \n        # 기존 데이터 삭제 후 삽입\n        cursor.execute(\"DELETE FROM panorama_events\")\n        \n        count = 0\n        for event in self.engine._events:\n            cursor.execute(\"\"\"\n                INSERT INTO panorama_events (id, timestamp, event_type, payload, episode_id, importance)\n                VALUES (?, ?, ?, ?, ?, ?)\n            \"\"\", (\n                event.id,\n                event.timestamp,\n                event.event_type,\n                json.dumps(event.payload, ensure_ascii=False),\n                event.episode_id,\n                event.importance,\n            ))\n            count += 1\n        \n        conn.commit()\n        conn.close()\n        return count\n    \n    def load_sqlite(self, db_path: str, clear_existing: bool = True) -> int:\n        \"\"\"SQLite DB에서 이벤트 로드\n        \n        Args:\n            db_path: SQLite 파일 경로\n            clear_existing: True면 기존 이벤트 삭제 후 로드\n            \n        Returns:\n            로드된 이벤트 수\n        \"\"\"\n        if clear_existing:\n            self.engine.clear()\n        \n        conn = sqlite3.connect(db_path)\n        cursor = conn.cursor()\n        \n        cursor.execute(\"\"\"\n            SELECT id, timestamp, event_type, payload, episode_id, importance\n            FROM panorama_events\n            ORDER BY timestamp ASC\n        \"\"\")\n        \n        count = 0\n        for row in cursor.fetchall():\n            event_id, timestamp, event_type, payload_str, episode_id, importance = row\n            payload = json.loads(payload_str) if payload_str else {}\n            \n            self.engine.append_event(\n                timestamp=timestamp,\n                event_type=event_type,\n                payload=payload,\n                episode_id=episode_id,\n                importance=importance or 0.5,\n                event_id=event_id,\n            )\n            count += 1\n        \n        conn.close()\n        return count\n\n\n# ------------------------------------------------------------------\n# 엔진 확장 메서드 (Mixin 스타일)\n# ------------------------------------------------------------------\ndef save_to_json(engine: \"PanoramaMemoryEngine\", path: str, indent: int = 2) -> int:\n    \"\"\"PanoramaMemoryEngine의 편의 메서드\"\"\"\n    return PanoramaPersistence(engine).save_json(path, indent)\n\n\ndef load_from_json(engine: \"PanoramaMemoryEngine\", path: str, clear_existing: bool = True) -> int:\n    \"\"\"PanoramaMemoryEngine의 편의 메서드\"\"\"\n    return PanoramaPersistence(engine).load_json(path, clear_existing)\n\n\ndef save_to_sqlite(engine: \"PanoramaMemoryEngine\", path: str) -> int:\n    \"\"\"PanoramaMemoryEngine의 편의 메서드\"\"\"\n    return PanoramaPersistence(engine).save_sqlite(path)\n\n\ndef load_from_sqlite(engine: \"PanoramaMemoryEngine\", path: str, clear_existing: bool = True) -> int:\n    \"\"\"PanoramaMemoryEngine의 편의 메서드\"\"\"\n    return PanoramaPersistence(engine).load_sqlite(path, clear_existing)\n"
    },
    "previous_hash": "0",
    "hash": "503268e50ffeef82bbd224b578f66336641ca74077ca3124314d36f9bbe943b0"
  }
]